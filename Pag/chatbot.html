<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style_ind.css">
    <title>ChatBot</title>
    
</head>
<body>

    <!--    TÍTULO    -->
    <header>
        <h1><a href="Ecomonitor.html">EcoMonitor</a></h1>
    </header>


    <!--    BARRA LATERAL DE NAVEGACIÓN (NAVBAR)    -->
    <div class="container">
        <nav class="sidebar">
            <ul>
                <li><a href="#" id="temp-btn">Temperatura</a></li>
                <li><a href="#" id="hum-btn">Humedad</a></li>
                <li><a href="#" id="ppm-btn">PPM</a></li>
                <li><a href="#" id="ec-btn">Conductividad Eléctrica (EC)</a></li>
                <li><a href="chatbot.html" id="ec-btn">ChatBot</a></li>
                <li><a href="cultivos.html" id="ec-btn">Cultivos</a></li>
            </ul>
        </nav>


        <!--    CONTENIDO PRINCIPAL    -->
        <main>

            <script>
                async function query(data) {
                    try {
                    const response = await fetch(
                        "https://api.stack-ai.com/inference/v0/run/a0899150-423c-4787-bf55-a4dd27cc884b/671026ddf3587ecf573e1f1c",
                        {
                            headers: {
                                'Authorization': 'Bearer 701e78f5-37c7-449a-8265-ec11079ac7d8',
                                'Content-Type': 'application/json'
                            },
                            method: "POST",
                            body: JSON.stringify(data),
                        }
                    );

                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const result = await response.json();
                    return result;
                    } catch (error) {
                        console.error('Error al consultar la API:', error);
                    }
                }

                query({"user_id": "a0899150-423c-4787-bf55-a4dd27cc884b", "in-0": "¿Cuál es el mejor fertilizante para tomates?"})
                .then((response) => {
                    console.log(JSON.stringify(response));
                })
                .catch((error) => {
                    console.error('Error en la promesa:', error);
                });

            </script>

        </main>
    </div>

    

</body>
</html>